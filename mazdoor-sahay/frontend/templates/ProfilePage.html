<!doctype html>
<html lang="en">
    <!-- Imports -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

    <!-- Code -->


    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <title>My Profile</title>
    </head>

    <body style="height: 100vh; width: 100vw;">
      <style>
        :root {
    --clr1: #222327;
    --clr2: #c0c0c0;
    --indicator_height: 9.749303621169917vh;
    --indicator_width: 10.724233983286908vh;
}
.pfp {
    border-radius: 7.8125vw;
    padding: 0.52083333333333vw;
}
.profile_details {
    text-align: left;
    align-self: center;
    font-size: 2.5vh;
}
.icon_size {
    padding-top:1.5vh;
    font-size: 3.5vh;
}

.navbar ul li  {
    position: relative;
    list-style: none;
    width: 10vw;
    height: 9vh;
    z-index: 1;
}
.navbar ul li a {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    text-align: center;
    font-weight: 500;
    color: var(--clr1);
    text-decoration: none;
}
.navbar ul li a .icon {
    padding-top:1.5vh;
    position: relative;
    display: block;
    line-height: 6.2674094707520895vh;
    font-size: 3.3426183844011144vh;
    text-align: center;
    transition: 0.5s;
    color: var(--clr1);

}
.navbar ul li:hover a .icon {
    transform: translateY(2.5vh);
}
.navbar ul li a .text {
    position: absolute;
    color: var(--clr1);
    font-family: sans-serif;
    font-weight: 500;
    font-size: 2.3vh;
    letter-spacing: 0.11142061281337047vh;
    transition: 0.75s;
    opacity: 0;

}
.navbar ul li:hover a .text{
    transform: translateY(-1.1vh);
    opacity: 1;
}
.menu-border {
    padding: 0.6963788300835655vh;
}

.card {
    box-shadow: 0 0.5571030640668524vh 0.5208333333333334vw 0 #242424;
    max-width: 50vh;
    margin: auto;
    text-align: center;
    position: relative;
}
  
      </style>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <!-- Navbar Start-->            
        <nav class="navbar navbar-expand-lg navbar-light bg-light" style="padding-top: 1.0445682451253482vh;">
            <div class="container-fluid">
                <a class="navbar-brand"><span class="icon_size">Menu</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">                  
                    <li id="navitem3" style="transition: 0.5s" class="nav-item rounded-pill">
                        <a href="CommunityPage.html">
                            <span id="icon3" class="icon"><ion-icon name="people"></ion-icon></span>
                            <span id="text3" class="text"><b>Community</b></span>
                        </a>
                    </li>
                    <li id="navitem4" style="transition: 0.5s" class="nav-item rounded-pill">
                        <a href="CommunityPage.html">
                            <span id="icon4" class="icon"><ion-icon name="briefcase"></ion-icon></ion-icon></span>
                            <span id="text4" class="text"><b>Jobs</b></span>
                        </a>
                    </li>
                    <li id="navitem1" style="transition: 0.5s" class="nav-item rounded-pill">
                        <a href="AboutPage.html">
                            <span id="icon1" class="icon"><ion-icon name="information-circle"></ion-icon></span>
                            <span id="text1" class="text"><b>About</b></span>
                        </a>
                    </li>
                </ul>
                <div class="nav-item d-flex my-2 my-lg-0">
                    <div class="loginornot" style="display: none;">
                        <button class="btn btn-primary me-sm-2" style="color:white" >Login</button>
                        <button class="btn btn-outline-primary my-2 my-sm-0" >Register</button>
                    </div>         
                </div>
                <div class="nav-item my-2" style="display:block;">
                    <div>
                        <ul>
                            <li id="navitem5" style="transition: 0.5s" class="nav-item rounded-pill">
                                <a href="AboutPage.html">
                                    <span id="icon5" class="icon"><ion-icon name="settings-outline"></ion-icon></span>
                                    <span id="text5" class="text"><b>My Account</b></span>
                                </a>
                            </li>
                        </ul>    
                    </div>                   
                </div>
            </div>
            </nav>
            <!-- Navbar End-->
            <div class="container-fluid align-middle" style="width: 50vw;">
                <p class="h1 text-center fw-bold" style="padding: 6vh;">Profile</p>
                <div class="card">
                    <br>
                    <img id="pfp"
                    alt="User's First Name" class="pfp"
                    style=
                    "width:150px; 
                    image-rendering: optimizeSpeed; 
                    background-color: var(--clr1);
                    align-self: center;">
                    <h1 id="user_name" style="align-self: center;"></h1>
                    
                    <div class="profile_details">
                        <p class="title"><ion-icon name="call-outline" class="icon_size"></ion-icon><span id ="phone"></span></p>
                        <p><ion-icon name="location-outline" class="icon_size"></ion-icon><span id="location"></span></p>
                        <p id="skillP"><ion-icon name="ribbon-outline" class="icon_size"></ion-icon><span id="skill"></span></p>
                        <p id="incomeP"><ion-icon name="cash-outline" class="icon_size"></ion-icon><span id="income"></span></p>
                        <br>
                    </div>
                </div>    
            </div>
            
        
    
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script>
          const urlParams = new URLSearchParams(location.search);
              var userData= "";
              if(!urlParams.has('id'))
              {
                window.location.href = "https://Sustainathon.leomessi0311.repl.co/Community";
                
              }
              for (const [key, value] of urlParams) {
                  if(key=="id")
                  {
                    $.get('https://serversustainathon.leomessi0311.repl.co/GetUserData/' + value, function(data, status){
                        userData = JSON.parse(data)
                         if(userData[0] == "Contractor")
                        {
                          document.getElementById('skillP').style.display = "none";
                          document.getElementById('incomeP').style.display = "none";
                        }
                         var pref = JSON.parse(userData[5]) 
                        document.getElementById('phone').innerHTML = userData['4']
                        const myArray =pref['location'].split(",");
                        document.getElementById('location').innerHTML = myArray[0]
                        document.getElementById('skill').innerHTML = pref['skill']
                        document.getElementById('income').innerHTML = pref['income']
                        var NameChar = userData[1].split(" ");
                        var NameShort = ""
                        for(let i = 0; i < NameChar.length; ++i)
                        {
                          NameShort = NameShort + NameChar[i][0]
                        }
                        document.getElementById('pfp').src = "https://via.placeholder.com/150/0000FF/FFFFFF?text="+ NameShort
                        document.getElementById('user_name').innerHTML = userData[1]
                        
                    });
                    
                  }
                }
            $("#navitem1").hover(function(){
                $(this).css("background-color", "#818181")
                $('#icon1').css("color", "rgb(248, 249, 250)")
                $('#text1').css("color", "rgb(248, 249, 250)")
            }, function(){
                $(this).css("background-color", "rgb(248, 249, 250)")
                $('#icon1').css("color", "#000000")
                $('#text1').css("color", "#818181")
            })
            $("#navitem2").hover(function(){
                $(this).css("background-color", "#818181")
                $('#icon2').css("color", "rgb(248, 249, 250)")
                $('#text2').css("color", "rgb(248, 249, 250)")
            }, function(){
                $(this).css("background-color", "rgb(248, 249, 250)")
                $('#icon2').css("color", "#000000")
                $('#text2').css("color", "#818181")
            })
            $("#navitem3").hover(function(){
                $(this).css("background-color", "#818181")
                $('#icon3').css("color", "rgb(248, 249, 250)")
                $('#text3').css("color", "rgb(248, 249, 250)")
            }, function(){
                $(this).css("background-color", "rgb(248, 249, 250)")
                $('#icon3').css("color", "#000000")
                $('#text3').css("color", "#818181")
            })
            $("#navitem4").hover(function(){
                $(this).css("background-color", "#818181")
                $('#icon4').css("color", "rgb(248, 249, 250)")
                $('#text4').css("color", "rgb(248, 249, 250)")
            }, function(){
                $(this).css("background-color", "rgb(248, 249, 250)")
                $('#icon4').css("color", "#000000")
                $('#text4').css("color", "#818181")
            })
            $("#navitem5").hover(function(){
                $(this).css("background-color", "#818181")
                $('#icon5').css("color", "rgb(248, 249, 250)")
                $('#text5').css("color", "rgb(248, 249, 250)")
            }, function(){
                $(this).css("background-color", "rgb(248, 249, 250)")
                $('#icon5').css("color", "#000000")
                $('#text5').css("color", "#818181")
            })
            $(document).ready(function(){
              
            });
        </script>
    </body>
</html>
